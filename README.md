# RAG智能问答系统 - 项目实战
<img width="1888" height="918" alt="image" src="https://github.com/user-attachments/assets/920f0cb1-250a-491e-8b1a-eded2e07bbb8" />


## 项目概述
基于检索增强生成（RAG）技术构建的智能问答系统，支持知识库管理、多会话对话和上下文理解，实现了从文档上传、向量化存储到智能问答的完整业务流程。

## 项目职责

1. **系统架构设计**
   - 设计并实现基于LangChain的RAG架构，构建检索-增强-生成的完整链路
   - 采用模块化设计，将向量存储、知识库管理、对话服务等功能解耦，提升系统可维护性

2. **核心功能开发**
   - 实现向量数据库服务（VectorStoreService），基于Chroma进行文档向量化存储和相似度检索
   - 开发知识库管理模块（KnowledgeBaseService），支持文档上传、文本分块、去重处理等功能
   - 构建RAG服务（RagService），集成向量检索与大语言模型，实现基于知识库的智能问答

3. **对话历史管理**
   - 设计并实现多会话管理系统，支持基于会话ID的独立对话历史追踪
   - 开发对话历史持久化功能，支持历史记录的保存、加载和清空操作
   - 实现可配置的历史上下文长度控制，优化模型输入token使用

4. **Web应用开发**
   - 基于Streamlit构建交互式Web界面，实现知识库上传和问答对话两个核心功能模块
   - 开发会话管理界面，支持会话ID切换、历史记录查看、上下文配置等功能
   - 实现流式输出效果，提升用户体验

5. **性能优化**
   - 实现基于MD5的文档去重机制，避免重复文档的向量化处理
   - 优化文本分块策略，使用递归字符分割器，支持多层级分隔符配置
   - 设计可配置的检索参数，平衡检索准确性与响应速度

## 项目成果

1. **功能完整性**
   - 成功实现端到端的RAG系统，涵盖文档处理、向量存储、智能检索、对话生成全流程
   - 支持多会话并发管理，每个会话独立维护对话历史，满足多用户使用场景
   - 实现知识库的动态更新，支持增量式文档添加，无需重建整个向量库

2. **技术亮点**
   - 集成LangChain框架，采用Chain式编程范式，实现检索与生成的流水线处理
   - 结合向量检索与对话历史，实现上下文感知的智能问答，提升回答准确性和连贯性
   - 采用持久化向量数据库，支持知识库的长期存储和快速检索

3. **用户体验**
   - 提供直观的Web界面，支持文件上传、实时问答、历史查看等操作
   - 实现流式输出效果，模拟实时生成过程，提升交互体验
   - 支持会话管理和历史记录查看，方便用户追溯对话内容

4. **系统稳定性**
   - 实现完善的异常处理机制，确保系统在异常情况下的稳定运行
   - 采用文件持久化存储对话历史，支持会话状态的恢复
   - 通过MD5校验机制避免重复处理，提升系统效率

## 技术栈

**核心框架与库**
- **LangChain**: RAG链构建、提示词模板、文档处理、输出解析
- **Chroma**: 向量数据库，用于文档向量存储和相似度检索
- **Streamlit**: Web应用框架，构建交互式用户界面

**AI模型与API**
- **DashScope Embeddings**: 阿里云通义千问嵌入模型（text-embedding-v4），用于文档向量化
- **ChatTongyi**: 通义千问大语言模型（qwen3-max），用于对话生成

**Python技术**
- **Python 3.x**: 主要开发语言
- **LangChain Community**: 社区集成包，提供向量存储和模型接口
- **LangChain Core**: 核心功能模块，提供链式编程和消息处理

**数据处理**
- **RecursiveCharacterTextSplitter**: 递归字符文本分割器，实现智能文档分块
- **MD5哈希**: 文档去重校验
- **JSON**: 对话历史序列化存储

**系统架构**
- **模块化设计**: 向量存储、知识库、RAG服务、对话历史等独立模块
- **持久化存储**: 向量数据库持久化、对话历史文件存储
- **会话管理**: 基于会话ID的多用户会话隔离

## 项目亮点

1. **完整的RAG实现**: 从文档处理到智能问答的端到端解决方案
2. **多会话支持**: 实现基于会话ID的独立对话管理，支持多用户场景
3. **上下文理解**: 结合向量检索和对话历史，实现上下文感知的智能问答
4. **可扩展架构**: 模块化设计，易于扩展新功能和集成新的AI模型
5. **用户友好界面**: 基于Streamlit的直观Web界面，支持实时交互和状态管理

